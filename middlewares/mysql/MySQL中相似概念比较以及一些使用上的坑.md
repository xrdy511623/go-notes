
---
MySQL中相似概念比较以及一些使用上的坑
---

# 一 NULL和空值的区别
## 1 占用空间的区别
字符串空值('')的长度是0，是不占用空间的, 而NULL的长度是NULL，其实它是占用空间的!

## 2 在查询方式上的区别
如果要单纯查NULL值列，则使用 is NULL去查，单纯去查空值('')列，则使用 =''。
建议查询：NULL值查询使用is null/is not null查询，而空值('')可以使用=或者!=，但是不能使用<、>等算术运算符来查!

## 3、在count()统计函数上的区别
空字符串“”行会被count函数统计，而NULL行不会被统计，要想统计NULL行，需要使用count(*)

# 二 union 和 union all的区别
两者都是取并集，但是前者对重复的交集会利用临时表去重，而后者不会去重，也不会使用临时表。


# 三 一些不易察觉的坑
> 1 在使用无符号字段时，千万要注意字段相减出现负数的坑，建议还是使用有符号字段(正负数都包含)，避免不必要的问题。

> 2 自动增长字段，必须被定义成key，也就是主键索引

> 3 mysql除了varchar和char是代表字符长度之外，其余的类型都是代表字节长度。

> 4 mysql的字符序(collation) 表默认的collation是utf8_general_ci，这种collation会忽略大小写，会出现查询小写字母a的值，
意外把大写字母A的值也查询出来的情况，如果要避免这种问题，可以将字符序改成utf8_bin。

> 5 mysql的utf8编码的一个字符最多3个字节，但是一个emoji表情为4个字节，所以utf8不支持存储emoji表情, 要存储emoj表情符号，
需要使用utf8mb4字符集。